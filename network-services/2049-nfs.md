# 2049 - NFS

Network File System (`NFS`) is a network file system that has the same purpose as SMB. Its purpose is to access file systems over a network as if they were local

Authentication commonly relies on UNIX **`UID`/`GID`** identifiers and group memberships

### Service enumeration

#### Scan

```sh
sudo nmap --script nfs* <IP> -sV -p111,2049
scanner/nfs/nfsmount 
showmount -e <IP>
```

### Interact with the shares

```sh
# Make a new directory
mkdir target-NFS

# Mounting the share
sudo mount -t nfs <IP>:/ ./target-NFS/ -o nolock

# List files on the mounted share, their rights and username to who they belong
ls -l mnt/nfs/

# List contents of the mounted share with UIDs & GUIDs 
ls -n mnt/nfs/

# Unmount the share
sudo umount ./target-NFS
```

If we mount a folder which contains files or folders only accessible by some user (by `UID`). We can create locally a user with that `UID` and using that user we will be able to access the file/folder.

The tool **`fuse_nfs`** from [https://github.com/hvs-consulting/nfs-security-tooling](https://github.com/hvs-consulting/nfs-security-tooling) will basically always send always the needed `UID` and `GID` to access the files
